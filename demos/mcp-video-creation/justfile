
import '~/git/gic/justfile.gemini_common'


# PATH := ~/go/bin:$(PATH)

# List all available recipes
list:
    just -l


# https://github.com/GoogleCloudPlatform/vertex-ai-creative-studio/blob/main/experiments/mcp-genmedia/mcp-genmedia-go/README.md
# Tests local installation of MCP Golang Imagen client
test-mcp:
    echo '{"jsonrpc":"2.0","method":"prompts/get","id":2,"params":{"name":"generate-image","arguments":{"prompt":"a futuristic cityscape at sunset"}}}' | mcp-imagen-go | jq .


# Launch gemini with bucket baked in
gemini123:
    PATH=~/go/bin/:$PATH GENMEDIA_BUCKET="ricc-genai-mcp-genmedia/" gemini -c --allowed-tools WebFetchTool

# enable `imagen_t2i` Tool

# Authenticate properly
auth2:
    bin/gcloud-auth

# Checks if go MCP scripts have been installed
check-install:
    ls -al ~/go/bin/mcp-*-go

# Runs Imagen MCP on net transport
run-imagen-mcp-on-port-8080:
    PATH=~/go/bin/:$PATH PROJECT_ID=ricc-genai PORT=8080 mcp-imagen-go -transport http

# Checks gemini-cli works with MCP
test-mcp-works:
    PATH=~/go/bin/:$PATH gemini -c --allowed-tools ChirpTool -p 'Show me Chirp voices through MCP tool.'
